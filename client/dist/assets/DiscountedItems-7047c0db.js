import{a as e,j as s,L as t,A as r,T as l,N as a,b as o}from"./index-ea038d8a.js";import{r as n}from"./react-41c36598.js";const i=()=>{const{data:i,isLoading:d,error:c}=e(null),m=n.useRef(null),[x,u]=n.useState(0),[h,f]=n.useState(!1),g=e=>{const s=e.currentTarget.getBoundingClientRect(),t=(e.clientX-s.left)/s.width,r=m.current;if(!r)return;const l=r.scrollWidth-r.clientWidth;r.scrollTo({left:l*t,behavior:"smooth"})};n.useEffect((()=>{const e=e=>{if(!h)return;const s=document.getElementById("custom-scroll-track");if(s){const t=s.getBoundingClientRect();let r=e.clientX;r<t.left&&(r=t.left),r>t.right&&(r=t.right),g({currentTarget:s,clientX:r})}},s=()=>{f(!1)};return h&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",s)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",s)}}),[h]);const p=e=>new Intl.NumberFormat("ru-RU").format(Math.round(e));return d||!i?(c&&console.error(c),s.jsx(t,{})):s.jsxs("div",{className:"w-full py-12 px-4 bg-gray-50 py-20 overflow-hidden",children:[s.jsxs("div",{className:"max-w-7xl mx-auto mb-8 flex items-center gap-3 px-4 md:px-0",children:[s.jsx("div",{className:"p-2.5 bg-rose-100 rounded-2xl text-rose-600 shadow-sm",children:s.jsx(r,{size:26})}),s.jsxs("div",{children:[s.jsx(l,{text:"Горячие скидки",className:"text-2xl md:text-3xl font-bold text-gray-800 leading-tight"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Успейте купить по лучшей цене"})]})]}),s.jsxs("div",{className:"relative w-full max-w-[1400px] mx-auto",children:[s.jsxs("div",{ref:m,onScroll:()=>{const e=m.current;if(!e)return;const s=e.scrollWidth-e.clientWidth,t=e.scrollLeft/s*100;u(t)},className:"flex gap-4 md:gap-6 overflow-x-auto pb-8 pt-4 px-4 md:px-8\r\n                     scrollbar-hide scroll-smooth snap-x snap-mandatory touch-pan-x",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[s.jsx("div",{className:"shrink-0 w-0 md:w-4 lg:w-8"}),i.map((e=>{const t=e.price*(1-e.discount/100);return s.jsxs(a,{to:`/data/${e._id}`,className:"group relative flex flex-col shrink-0 w-[260px] sm:w-[280px] md:w-[320px] snap-start\r\n                               bg-white rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1\r\n                               transition-all duration-500 ease-out overflow-hidden border border-gray-100/50",children:[s.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-100",children:[s.jsx("img",{src:e.imageURL[0],alt:e.name,className:"w-full h-full object-cover mix-blend-multiply group-hover:scale-105 transition-transform duration-700 ease-in-out"}),e.discount>0&&s.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-rose-600 text-sm font-extrabold px-3 py-1.5 rounded-full shadow-sm z-10 flex items-center gap-1",children:[s.jsx(r,{size:14}),"-",e.discount,"%"]})]}),s.jsxs("div",{className:"p-5 flex flex-col flex-grow bg-gradient-to-b from-white to-gray-50/30",children:[s.jsx("h3",{className:"text-gray-800 font-semibold text-base leading-snug mb-3 line-clamp-2 group-hover:text-rose-600 transition-colors",children:e.name}),s.jsxs("div",{className:"mt-auto flex items-end justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-sm text-gray-400 line-through mb-0.5",children:[p(e.price)," ₽"]}),s.jsxs("span",{className:"text-2xl font-black text-gray-900 tracking-tight flex gap-1 items-baseline",children:[p(t)," ",s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"₽"})]})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-500 flex items-center justify-center group-hover:bg-rose-500 group-hover:text-white transition-all duration-300 scale-90 group-hover:scale-100 shadow-sm",children:s.jsx(o,{size:18})})]})]})]},e._id)})),s.jsx("div",{className:"shrink-0 w-4 md:w-8 lg:w-12"})]}),s.jsx("div",{className:"max-w-md mx-auto mt-2 px-4 flex items-center justify-center",children:s.jsx("div",{id:"custom-scroll-track",onMouseDown:e=>{f(!0),g(e)},className:"relative w-full h-1.5 bg-gray-200 rounded-full overflow-hidden cursor-pointer transition-all duration-300 "+(h?"h-2.5":"hover:h-2.5"),children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-rose-500 rounded-full transition-all duration-150 ease-out "+(h?"bg-rose-600":""),style:{width:`${x}%`}})})})]})]})};export{i as default};
//# sourceMappingURL=DiscountedItems-7047c0db.js.map
