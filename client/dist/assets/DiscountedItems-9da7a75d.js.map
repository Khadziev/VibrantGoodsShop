{"version":3,"file":"DiscountedItems-9da7a75d.js","sources":["../../src/components/Discounted/DiscountedItems.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { AiOutlineCaretLeft, AiOutlineCaretRight } from \"react-icons/ai\";\r\nimport { useFetchDiscountedProductsQuery } from \"@/apiServices/api/userApi\";\r\nimport Frame from \"@/UI/Frame/Frame\";\r\nimport SectionTitle from \"@/UI/SectionTitle/SectionTitle\";\r\nimport Loading2 from \"@/UI/Loading/Loading2\";\r\nimport Text from \"@/UI/Text/Text\";\r\nimport styles from \"./Categories.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nconst DiscountedItems = () => {\r\n  const { data: products, isLoading, error } = useFetchDiscountedProductsQuery(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  if (isLoading || !products) {\r\n    if (error) console.error(error);\r\n    return <Loading2 />;\r\n  }\r\n\r\n  const itemsPerPage = 5;\r\n  const totalPages = Math.ceil(products.length / itemsPerPage);\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage((prevPage) => (prevPage % totalPages) + 1);\r\n  };\r\n\r\n  const previousPage = () => {\r\n    setCurrentPage((prevPage) => Math.max(prevPage - 1, 1));\r\n  };\r\n\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const currentProducts = products.slice(startIndex, endIndex);\r\n\r\n  return (\r\n    <Frame>\r\n      <div style={{ marginTop: 0 }}>\r\n        <SectionTitle title=\"действует скидка\" />\r\n      </div>\r\n      <section className={styles.section}>\r\n        <div className={styles.arrows}>\r\n          <button onClick={previousPage} className={styles.arrow}>\r\n            <AiOutlineCaretLeft size={40} />\r\n          </button>\r\n        </div>\r\n        <div className={styles.list}>\r\n          {currentProducts.map((item) => (\r\n            <NavLink to={`/data/${item._id}`} key={item._id} className={styles.item}>\r\n              <div>\r\n                <img src={item.imageURL[0]} alt={item.name} className={styles.image} />\r\n              </div>\r\n              <div>\r\n                <Text text={item.name} align=\"center\" color=\"white\" />\r\n                <Text text={`${item.price} $`} align=\"center\" color=\"white\" />\r\n                <Text\r\n                  text={`новая цена : ${item.price * (1 - item.discount / 100)} $`}\r\n                  color=\"green\"\r\n                  align=\"center\"\r\n                />\r\n                <Text text={`Скидка: ${item.discount}%`} align=\"center\" isBlinking color=\"green\" />\r\n              </div>\r\n\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n        <div className={styles.arrows}>\r\n          <button onClick={nextPage} className={styles.arrow}>\r\n            <AiOutlineCaretRight size={40} />\r\n          </button>\r\n        </div>\r\n      </section>\r\n    </Frame>\r\n  );\r\n};\r\n\r\nexport default DiscountedItems;\r\n"],"names":["DiscountedItems","data","products","isLoading","error","useFetchDiscountedProductsQuery","currentPage","setCurrentPage","useState","console","Loading2","totalPages","Math","ceil","length","startIndex","endIndex","currentProducts","slice","Frame","children","jsx","style","marginTop","SectionTitle","title","jsxs","className","styles","jsxRuntimeExports","onClick","prevPage","max","AiOutlineCaretLeft","size","map","item","NavLink","to","_id","src","imageURL","alt","name","Text","text","align","color","price","discount","isBlinking","AiOutlineCaretRight"],"mappings":"sQAWMA,EAAkB,KACtB,MAAQC,KAAMC,EAAAC,UAAUA,QAAWC,GAAUC,EAAgC,OACtEC,EAAaC,GAAkBC,WAAS,GAE3C,GAAAL,IAAcD,EAEhB,OADIE,GAAOK,QAAQL,MAAMA,SACjBM,EAAS,CAAA,GAGnB,MACMC,EAAaC,KAAKC,KAAKX,EAASY,OADjB,GAWfC,EAXe,GAWDT,EAAc,GAC5BU,EAAWD,EAZI,EAafE,EAAkBf,EAASgB,MAAMH,EAAYC,GAEnD,cACGG,EACC,CAAAC,SAAA,GAACC,IAAA,MAAA,CAAIC,MAAO,CAAEC,UAAW,GACvBH,SAACC,EAAAA,IAAAG,EAAA,CAAaC,MAAM,yBAErBC,KAAA,UAAA,CAAQC,UAAWC,EAClBR,SAAA,OAAC,OAAIO,UAAWC,EACdR,SAAAS,EAAAR,IAAC,UAAOS,QAfK,KACnBvB,GAAgBwB,GAAanB,KAAKoB,IAAID,EAAW,EAAG,IAAE,EAcjBJ,UAAWC,EACxCR,eAACa,EAAA,CAAmBC,KAAM,eAG7B,MAAI,CAAAP,UAAWC,EACbR,SAAAH,EAAgBkB,KAAKC,KACnBV,KAAAW,EAAA,CAAQC,GAAI,SAASF,EAAKG,MAAsBZ,UAAWC,EAC1DR,SAAA,CAAAC,EAAAA,IAAC,MACC,CAAAD,SAAAS,EAAAR,IAAC,MAAI,CAAAmB,IAAKJ,EAAKK,SAAS,GAAIC,IAAKN,EAAKO,KAAMhB,UAAWC,aAExD,MACC,CAAAR,SAAA,CAAAC,MAACuB,GAAKC,KAAMT,EAAKO,KAAMG,MAAM,SAASC,MAAM,UAC5C1B,EAAAA,IAACuB,EAAK,CAAAC,KAAM,GAAGT,EAAKY,UAAWF,MAAM,SAASC,MAAM,UACpDlB,EAAAR,IAACuB,EAAA,CACCC,KAAM,gBAAgBT,EAAKY,OAAS,EAAIZ,EAAKa,SAAW,SACxDF,MAAM,QACND,MAAM,WAEPjB,EAAAR,IAAAuB,EAAA,CAAKC,KAAM,WAAWT,EAAKa,YAAaH,MAAM,SAASI,YAAU,EAACH,MAAM,eAZtCX,EAAKG,eAkB/C,MAAI,CAAAZ,UAAWC,EACdR,eAAC,SAAO,CAAAU,QA5CC,KACfvB,GAAgBwB,GAAcA,EAAWpB,EAAc,GAAC,EA2CvBgB,UAAWC,EACpCR,eAAC+B,GAAoBjB,KAAM,cAInC"}